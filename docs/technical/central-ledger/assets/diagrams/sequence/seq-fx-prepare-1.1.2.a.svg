<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4038px" preserveAspectRatio="none" style="width:2098px;height:4038px;" version="1.1" viewBox="0 0 2098 4038" width="2098px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="f90mg3w570krc" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="459" x="817.5" y="28.708">1.1.2.a. Position Handler Consume (single message)</text>
    <rect fill="#FFFFE0" height="3991.5938" style="stroke:#A80036;stroke-width:1.0;" width="1975" x="16" y="40.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="948" y="53.02">Central Service</text>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="102" y="177.6484"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="3802.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="423" y="132.3828"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="2785.0781"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="3339.3281"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="3905.25"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="121.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1345" y="1254.2969"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="135.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="653.6406"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="135.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="938.9688"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="150.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="1538.3594"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="120.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1584.5" y="446.7109"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="475.8438"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="77.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="682.7734"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="818.4375"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="77.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="968.1016"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1283.4297"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1446.9609"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="92.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1567.4922"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1826.6875"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1918.9531"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2011.2188"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2118.2891"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2274.4922"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="3810.8672" style="stroke:#000000;stroke-width:2.0;" width="2074" x="10" y="139.3828"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="147.6641" style="stroke:#000000;stroke-width:2.0;" width="720.5" x="327.5" y="222.6484"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="116.5313" style="stroke:#000000;stroke-width:2.0;" width="700.5" x="337.5" y="246.7813"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="3558.9375" style="stroke:#000000;stroke-width:2.0;" width="1766.5" x="307.5" y="384.3125"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="2975.8828" style="stroke:#000000;stroke-width:2.0;" width="1746.5" x="317.5" y="408.4453"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="1255.9922" style="stroke:#000000;stroke-width:2.0;" width="1726.5" x="327.5" y="1089.6328"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="443.1328" style="stroke:#000000;stroke-width:2.0;" width="1706.5" x="337.5" y="1746.2891"/>
    <rect fill="#FFFFFF" height="107.0703" style="stroke:none;stroke-width:1.0;" width="1706.5" x="337.5" y="2082.3516"/>
    <rect fill="#FFFFFF" height="149.2031" style="stroke:none;stroke-width:1.0;" width="1726.5" x="327.5" y="2196.4219"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="1017.7031" style="stroke:#000000;stroke-width:2.0;" width="964.5" x="337.5" y="2359.625"/>
    <rect fill="#FFFFFF" height="554.25" style="stroke:none;stroke-width:1.0;" width="964.5" x="337.5" y="2823.0781"/>
    <rect fill="#FFFFFF" height="551.9219" style="stroke:none;stroke-width:1.0;" width="1766.5" x="307.5" y="3391.3281"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="107" x2="107" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="427.5" x2="427.5" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1089" x2="1089" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1221" x2="1221" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1350" x2="1350" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1464" x2="1464" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1589" x2="1589" y1="122.3828" y2="3967.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1939" x2="1939" y1="122.3828" y2="3967.25"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="24" y="83.0859"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="20" y="87.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="27" y="107.0811">topic-transfer-position</text>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="24" y="3966.25"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="166" x="20" y="3970.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="27" y="3990.2451">topic-transfer-position</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="347.5" y="119.0811">Position Event Handler</text>
    <ellipse cx="428" cy="90.0859" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <polygon fill="#A80036" points="424,78.0859,430,73.0859,428,78.0859,430,83.0859,424,78.0859" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="347.5" y="3979.2451">Position Event Handler</text>
    <ellipse cx="428" cy="3998.5469" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <polygon fill="#A80036" points="424,3986.5469,430,3981.5469,428,3986.5469,430,3991.5469,424,3986.5469" style="stroke:#A80036;stroke-width:1.0;"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1041" y="83.0859"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1037" y="87.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1044" y="107.0811">Event-Topic</text>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1041" y="3966.25"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1037" y="3970.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1044" y="3990.2451">Event-Topic</text>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1155" y="83.0859"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1151" y="87.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1158" y="107.0811">Notification-Topic</text>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1155" y="3966.25"/>
    <rect fill="#FEFECE" filter="url(#f90mg3w570krc)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="133" x="1151" y="3970.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1158" y="3990.2451">Notification-Topic</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1302" y="119.0811">Position DAO</text>
    <ellipse cx="1350" cy="90.0859" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1338" x2="1362" y1="104.0859" y2="104.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1302" y="3979.2451">Position DAO</text>
    <ellipse cx="1350" cy="3998.5469" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1338" x2="1362" y1="4012.5469" y2="4012.5469"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1408" y="119.0811">Participant DAO</text>
    <ellipse cx="1464.5" cy="90.0859" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1452.5" x2="1476.5" y1="104.0859" y2="104.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1408" y="3979.2451">Participant DAO</text>
    <ellipse cx="1464.5" cy="3998.5469" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1452.5" x2="1476.5" y1="4012.5469" y2="4012.5469"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1531" y="119.0811">Settlement DAO</text>
    <ellipse cx="1589.5" cy="90.0859" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1577.5" x2="1601.5" y1="104.0859" y2="104.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1531" y="3979.2451">Settlement DAO</text>
    <ellipse cx="1589.5" cy="3998.5469" fill="#FEFECE" filter="url(#f90mg3w570krc)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/>
    <line style="stroke:#A80036;stroke-width:2.0;" x1="1577.5" x2="1601.5" y1="4012.5469" y2="4012.5469"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1891" y="119.0811">Central Store</text>
    <path d="M1921,70.0859 C1921,60.0859 1939,60.0859 1939,60.0859 C1939,60.0859 1957,60.0859 1957,70.0859 L1957,96.0859 C1957,106.0859 1939,106.0859 1939,106.0859 C1939,106.0859 1921,106.0859 1921,96.0859 L1921,70.0859 " fill="#FEFECE" filter="url(#f90mg3w570krc)" style="stroke:#000000;stroke-width:1.5;"/>
    <path d="M1921,70.0859 C1921,80.0859 1939,80.0859 1939,80.0859 C1939,80.0859 1957,80.0859 1957,70.0859 " fill="none" style="stroke:#000000;stroke-width:1.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1891" y="3979.2451">Central Store</text>
    <path d="M1921,3992.5469 C1921,3982.5469 1939,3982.5469 1939,3982.5469 C1939,3982.5469 1957,3982.5469 1957,3992.5469 L1957,4018.5469 C1957,4028.5469 1939,4028.5469 1939,4028.5469 C1939,4028.5469 1921,4028.5469 1921,4018.5469 L1921,3992.5469 " fill="#FEFECE" filter="url(#f90mg3w570krc)" style="stroke:#000000;stroke-width:1.5;"/>
    <path d="M1921,3992.5469 C1921,4002.5469 1939,4002.5469 1939,4002.5469 C1939,4002.5469 1957,4002.5469 1957,3992.5469 " fill="none" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="102" y="177.6484"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="3802.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="423" y="132.3828"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="2785.0781"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="3339.3281"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1216.5" y="3905.25"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="121.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1345" y="1254.2969"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="135.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="653.6406"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="135.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="938.9688"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="150.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1459.5" y="1538.3594"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="120.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1584.5" y="446.7109"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="475.8438"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="77.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="682.7734"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="818.4375"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="77.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="968.1016"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1283.4297"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="62.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1446.9609"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="92.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1567.4922"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1826.6875"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="1918.9531"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2011.2188"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2118.2891"/>
    <rect fill="#FFFFFF" filter="url(#f90mg3w570krc)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1934" y="2274.4922"/>
    <path d="M10,139.3828 L250,139.3828 L250,146.3828 L240,156.3828 L10,156.3828 L10,139.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="3810.8672" style="stroke:#000000;stroke-width:2.0;" width="2074" x="10" y="139.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="25" y="152.4497">Position Handler Consume</text>
    <polygon fill="#A80036" points="123,173.6484,113,177.6484,123,181.6484,119,177.6484" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="117" x2="422" y1="177.6484" y2="177.6484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="129" y="172.5825">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="142" y="172.5825">Consume Position event message for Payer</text>
    <path d="M327.5,222.6484 L415.5,222.6484 L415.5,229.6484 L405.5,239.6484 L327.5,239.6484 L327.5,222.6484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="147.6641" style="stroke:#000000;stroke-width:2.0;" width="720.5" x="327.5" y="222.6484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="342.5" y="235.7153">break</text>
    <path d="M337.5,246.7813 L489.5,246.7813 L489.5,253.7813 L479.5,263.7813 L337.5,263.7813 L337.5,246.7813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="116.5313" style="stroke:#000000;stroke-width:2.0;" width="700.5" x="337.5" y="246.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="352.5" y="259.8481">Validate Event</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="285.0469" y2="285.0469"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="285.0469" y2="298.0469"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="298.0469" y2="298.0469"/>
    <polygon fill="#A80036" points="444,294.0469,434,298.0469,444,302.0469,440,298.0469" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="279.981">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="427" x="453" y="279.981">Validate event - Rule: type == &apos;position&apos; &amp;&amp; action == &apos;fx_prepare&apos;</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="342.3125" y2="342.3125"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="342.3125" y2="355.3125"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="355.3125" y2="355.3125"/>
    <polygon fill="#A80036" points="444,351.3125,434,355.3125,444,359.3125,440,355.3125" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="329.6802">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="573" x="453" y="322.1138">Validate &apos;payload.commitRequestId&apos; or &apos;message.value.content.uriParams.id&apos; is not empty</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="453" y="337.2466">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="539" y="337.2466">2003</text>
    <path d="M307.5,384.3125 L371.5,384.3125 L371.5,391.3125 L361.5,401.3125 L307.5,401.3125 L307.5,384.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="3558.9375" style="stroke:#000000;stroke-width:2.0;" width="1766.5" x="307.5" y="384.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="322.5" y="397.3794">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="300" x="386.5" y="396.5229">[Calulate &amp; Validate Latest Position (success)]</text>
    <path d="M317.5,408.4453 L642.5,408.4453 L642.5,415.4453 L632.5,425.4453 L317.5,425.4453 L317.5,408.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="2975.8828" style="stroke:#000000;stroke-width:2.0;" width="1746.5" x="317.5" y="408.4453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="280" x="332.5" y="421.5122">Calculate position and persist change</text>
    <polygon fill="#A80036" points="1572.5,442.7109,1582.5,446.7109,1572.5,450.7109,1576.5,446.7109" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1578.5" y1="446.7109" y2="446.7109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="441.645">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="453" y="441.645">Request active settlement models</text>
    <polygon fill="#A80036" points="1922,471.8438,1932,475.8438,1922,479.8438,1926,475.8438" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="1594.5" x2="1928" y1="475.8438" y2="475.8438"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1601.5" y="470.7778">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="1614.5" y="470.7778">Retrieve active settlement models</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1883,488.8438,1995,488.8438,2005,499.8438,1995,511.8438,1883,511.8438,1873,499.8438,1883,488.8438" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1885" y="504.9106">settlementModel</text>
    <polygon fill="#A80036" points="1605.5,534.1094,1595.5,538.1094,1605.5,542.1094,1601.5,538.1094" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1599.5" x2="1938" y1="538.1094" y2="538.1094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1611.5" y="533.0435">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="1624.5" y="533.0435">Return active settlement models</text>
    <polygon fill="#A80036" points="444,563.2422,434,567.2422,444,571.2422,440,567.2422" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1588.5" y1="567.2422" y2="567.2422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="450" y="562.1763">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="463" y="562.1763">Return active settlement models</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="611.5078" y2="611.5078"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="611.5078" y2="624.5078"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="624.5078" y2="624.5078"/>
    <polygon fill="#A80036" points="444,620.5078,434,624.5078,444,628.5078,440,624.5078" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="598.8755">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="562" x="453" y="591.3091">Select currency matching or default settlement model for POSITION ledger account type</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="453" y="606.4419">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="539" y="606.4419">6000</text>
    <polygon fill="#A80036" points="1447.5,649.6406,1457.5,653.6406,1447.5,657.6406,1451.5,653.6406" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1453.5" y1="653.6406" y2="653.6406"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="440" y="648.5747">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="453" y="648.5747">Request Payer Participant position account by name and currency</text>
    <polygon fill="#A80036" points="1922,678.7734,1932,682.7734,1922,686.7734,1926,682.7734" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="1469.5" x2="1928" y1="682.7734" y2="682.7734"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1476.5" y="677.7075">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="1498.5" y="677.7075">Retrieve Payer Participant position account by name and currency</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1874,695.7734,2003,695.7734,2013,714.7734,2003,733.7734,1874,733.7734,1864,714.7734,1874,695.7734" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1876" y="711.8403">participant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1876" y="726.9731">participantCurrency</text>
    <polygon fill="#A80036" points="1480.5,756.1719,1470.5,760.1719,1480.5,764.1719,1476.5,760.1719" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1474.5" x2="1938" y1="760.1719" y2="760.1719"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1486.5" y="755.106">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="410" x="1508.5" y="755.106">Return Payer Participant position account by name and currency</text>
    <polygon fill="#A80036" points="444,785.3047,434,789.3047,444,793.3047,440,789.3047" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1463.5" y1="789.3047" y2="789.3047"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="784.2388">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="410" x="472" y="784.2388">Return Payer Participant position account by name and currency</text>
    <polygon fill="#A80036" points="1922,814.4375,1932,818.4375,1922,822.4375,1926,818.4375" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="818.4375" y2="818.4375"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="813.3716">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="341" x="462" y="813.3716">Retrieve transfer state from DB by &apos;commitRequestId&apos;</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1863,831.4375,2014,831.4375,2024,842.4375,2014,854.4375,1863,854.4375,1853,842.4375,1863,831.4375" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1865" y="847.5044">fxTransferStateChange</text>
    <polygon fill="#A80036" points="444,876.7031,434,880.7031,444,884.7031,440,880.7031" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1938" y1="880.7031" y2="880.7031"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="875.6372">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="472" y="875.6372">Retrieve transfer state from DB</text>
    <polygon fill="#A80036" points="444,905.8359,434,909.8359,444,913.8359,440,909.8359" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1938" y1="909.8359" y2="909.8359"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="904.77">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="472" y="904.77">Return transfer state</text>
    <polygon fill="#A80036" points="1447.5,934.9688,1457.5,938.9688,1447.5,942.9688,1451.5,938.9688" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1453.5" y1="938.9688" y2="938.9688"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="933.9028">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="462" y="933.9028">Request position limits for Payer Participant</text>
    <polygon fill="#A80036" points="1922,964.1016,1932,968.1016,1922,972.1016,1926,968.1016" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="1469.5" x2="1928" y1="968.1016" y2="968.1016"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1476.5" y="963.0356">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="1498.5" y="963.0356">Request position limits for Payer Participant</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1887,981.1016,1990,981.1016,2000,1000.1016,1990,1019.1016,1887,1019.1016,1877,1000.1016,1887,981.1016" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1889" y="997.1685">participant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1889" y="1012.3013">participantLimit</text>
    <polygon fill="#A80036" points="1480.5,1041.5,1470.5,1045.5,1480.5,1049.5,1476.5,1045.5" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1474.5" x2="1938" y1="1045.5" y2="1045.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1486.5" y="1040.4341">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1508.5" y="1040.4341">Return position limits</text>
    <polygon fill="#A80036" points="444,1070.6328,434,1074.6328,444,1078.6328,440,1074.6328" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1463.5" y1="1074.6328" y2="1074.6328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="1069.5669">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="472" y="1069.5669">Return position limits</text>
    <path d="M327.5,1089.6328 L391.5,1089.6328 L391.5,1096.6328 L381.5,1106.6328 L327.5,1106.6328 L327.5,1089.6328 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="1255.9922" style="stroke:#000000;stroke-width:2.0;" width="1726.5" x="327.5" y="1089.6328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="342.5" y="1102.6997">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="393" x="406.5" y="1101.8433">[Validate transfer state (transferState=&apos;RECEIVED_PREPARE&apos;)]</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1127.8984" y2="1127.8984"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1127.8984" y2="1140.8984"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1140.8984" y2="1140.8984"/>
    <polygon fill="#A80036" points="444,1136.8984,434,1140.8984,444,1144.8984,440,1140.8984" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1122.8325">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="462" y="1122.8325">Update transfer state to RESERVED</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1170.0313" y2="1170.0313"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1170.0313" y2="1183.0313"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1183.0313" y2="1183.0313"/>
    <polygon fill="#A80036" points="444,1179.0313,434,1183.0313,444,1187.0313,440,1183.0313" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1164.9653">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="462" y="1164.9653">Calculate latest position for prepare</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1212.1641" y2="1212.1641"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1212.1641" y2="1225.1641"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1225.1641" y2="1225.1641"/>
    <polygon fill="#A80036" points="444,1221.1641,434,1225.1641,444,1229.1641,440,1225.1641" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1207.0981">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="615" x="462" y="1207.0981">Validate calculated latest position (lpos) against the net-debit cap (netcap) - Rule: lpos &lt; netcap</text>
    <polygon fill="#A80036" points="1333,1250.2969,1343,1254.2969,1333,1258.2969,1337,1254.2969" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1339" y1="1254.2969" y2="1254.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1249.231">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="462" y="1249.231">Request payer participant position for the transfer currency and settlement currency</text>
    <polygon fill="#A80036" points="1922,1279.4297,1932,1283.4297,1922,1287.4297,1926,1283.4297" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="1355" x2="1928" y1="1283.4297" y2="1283.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1362" y="1278.3638">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="538" x="1384" y="1278.3638">Retrieve payer participant position for the transfer currency and settlement currency</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1878,1326.4297,2000,1326.4297,2010,1337.4297,2000,1349.4297,1878,1349.4297,1868,1337.4297,1878,1326.4297" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1880" y="1342.4966">participantPosiiton</text>
    <polygon fill="#A80036" points="444,1371.6953,434,1375.6953,444,1379.6953,440,1375.6953" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1349" y1="1375.6953" y2="1375.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="1370.6294">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="528" x="472" y="1370.6294">Return payer participant position for the transfer currency and settlement currency</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1404.8281" y2="1404.8281"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1404.8281" y2="1417.8281"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1417.8281" y2="1417.8281"/>
    <polygon fill="#A80036" points="444,1413.8281,434,1417.8281,444,1421.8281,440,1417.8281" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1399.7622">26</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="482" x="462" y="1399.7622">Update participant position (increase reserved position by transfer amount)</text>
    <polygon fill="#A80036" points="1922,1442.9609,1932,1446.9609,1922,1450.9609,1926,1446.9609" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="1446.9609" y2="1446.9609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1441.895">27</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="462" y="1441.895">Persist payer participant position in DB</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1878,1459.9609,2000,1459.9609,2010,1470.9609,2000,1482.9609,1878,1482.9609,1868,1470.9609,1878,1459.9609" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1880" y="1476.0278">participantPosition</text>
    <polygon fill="#A80036" points="444,1505.2266,434,1509.2266,444,1513.2266,440,1509.2266" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="438" x2="1938" y1="1509.2266" y2="1509.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="1504.1606">28</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="472" y="1504.1606">Return success</text>
    <polygon fill="#A80036" points="1447.5,1534.3594,1457.5,1538.3594,1447.5,1542.3594,1451.5,1538.3594" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1453.5" y1="1538.3594" y2="1538.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1533.2935">29</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="462" y="1533.2935">Request payer participant limit by currency</text>
    <polygon fill="#A80036" points="1922,1563.4922,1932,1567.4922,1922,1571.4922,1926,1567.4922" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="1469.5" x2="1928" y1="1567.4922" y2="1567.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1476.5" y="1562.4263">30</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="1498.5" y="1562.4263">Retrieve payer participant limit by currency</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1874,1580.4922,2003,1580.4922,2013,1606.4922,2003,1633.4922,1874,1633.4922,1864,1606.4922,1874,1580.4922" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1876" y="1596.5591">participant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1876" y="1611.6919">participantCurrency</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="1876" y="1626.8247">participantLimit</text>
    <polygon fill="#A80036" points="1480.5,1656.0234,1470.5,1660.0234,1480.5,1664.0234,1476.5,1660.0234" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1474.5" x2="1938" y1="1660.0234" y2="1660.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1486.5" y="1654.9575">31</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="1508.5" y="1654.9575">Return payer participant limit by currency</text>
    <polygon fill="#A80036" points="444,1685.1563,434,1689.1563,444,1693.1563,440,1689.1563" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1463.5" y1="1689.1563" y2="1689.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="450" y="1684.0903">32</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="472" y="1684.0903">Return payer participant limit by currency</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1718.2891" y2="1718.2891"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1718.2891" y2="1731.2891"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1731.2891" y2="1731.2891"/>
    <polygon fill="#A80036" points="444,1727.2891,434,1731.2891,444,1735.2891,440,1731.2891" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1713.2231">33</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="506" x="462" y="1713.2231">Calculate latest available position based on payer limit and payer liquidity cover</text>
    <path d="M337.5,1746.2891 L401.5,1746.2891 L401.5,1753.2891 L391.5,1763.2891 L337.5,1763.2891 L337.5,1746.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="443.1328" style="stroke:#000000;stroke-width:2.0;" width="1706.5" x="337.5" y="1746.2891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="352.5" y="1759.356">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="416.5" y="1758.4995">[Validate position limits (success)]</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="1784.5547" y2="1784.5547"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="1784.5547" y2="1797.5547"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="1797.5547" y2="1797.5547"/>
    <polygon fill="#A80036" points="444,1793.5547,434,1797.5547,444,1801.5547,440,1797.5547" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1779.4888">34</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="462" y="1779.4888">Update transfer state to RESERVED</text>
    <polygon fill="#A80036" points="1922,1822.6875,1932,1826.6875,1922,1830.6875,1926,1826.6875" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="1826.6875" y2="1826.6875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1821.6216">35</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="462" y="1821.6216">Update participant position</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1878,1869.6875,2000,1869.6875,2010,1880.6875,2000,1892.6875,1878,1892.6875,1868,1880.6875,1878,1869.6875" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="1880" y="1885.7544">participantPosition</text>
    <polygon fill="#A80036" points="1922,1914.9531,1932,1918.9531,1922,1922.9531,1926,1918.9531" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="1918.9531" y2="1918.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="1913.8872">36</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="462" y="1913.8872">Persist transfer state change (RESERVED) to DB</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1863,1961.9531,2014,1961.9531,2024,1972.9531,2014,1984.9531,1863,1984.9531,1853,1972.9531,1863,1961.9531" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1865" y="1978.02">fxTransferStateChange</text>
    <polygon fill="#A80036" points="1922,2007.2188,1932,2011.2188,1922,2015.2188,1926,2011.2188" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="2011.2188" y2="2011.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="2006.1528">37</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="462" y="2006.1528">Insert participant position change record</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1853,2054.2188,2024,2054.2188,2034,2065.2188,2024,2077.2188,1853,2077.2188,1843,2065.2188,1853,2054.2188" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1855" y="2070.2856">participantPositionChange</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="2044" y1="2083.3516" y2="2083.3516"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="342.5" y="2093.562">[Validate position limits (failure)]</text>
    <polygon fill="#A80036" points="1922,2114.2891,1932,2118.2891,1922,2122.2891,1926,2118.2891" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="2118.2891" y2="2118.2891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="2113.2231">38</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="372" x="462" y="2113.2231">Persist transfer state change (ABORTED_REJECTED) to DB,</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="838" y="2113.2231">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="932" y="2113.2231">4001, 4200</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1863,2161.2891,2014,2161.2891,2024,2172.2891,2014,2184.2891,1863,2184.2891,1853,2172.2891,1863,2161.2891" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1865" y="2177.356">fxTransferStateChange</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327.5" x2="2054" y1="2197.4219" y2="2197.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="243" x="332.5" y="2207.6323">[transferState !=&apos;RECEIVED_PREPARE&apos;]</text>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="475" y1="2232.3594" y2="2232.3594"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="475" x2="475" y1="2232.3594" y2="2245.3594"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="434" x2="475" y1="2245.3594" y2="2245.3594"/>
    <polygon fill="#A80036" points="444,2241.3594,434,2245.3594,444,2249.3594,440,2245.3594" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="2227.2935">39</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="462" y="2227.2935">Update transfer state to ABORTED_REJECTED</text>
    <polygon fill="#A80036" points="1922,2270.4922,1932,2274.4922,1922,2278.4922,1926,2274.4922" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1928" y1="2274.4922" y2="2274.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="2269.4263">40</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="462" y="2269.4263">Persist aborted transfer state</text>
    <polygon fill="#FFFFE0" filter="url(#f90mg3w570krc)" points="1863,2317.4922,2014,2317.4922,2024,2328.4922,2014,2340.4922,1863,2340.4922,1853,2328.4922,1863,2317.4922" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1865" y="2333.5591">fxTransferStateChange</text>
    <path d="M337.5,2359.625 L401.5,2359.625 L401.5,2366.625 L391.5,2376.625 L337.5,2376.625 L337.5,2359.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/>
    <rect fill="none" height="1017.7031" style="stroke:#000000;stroke-width:2.0;" width="964.5" x="337.5" y="2359.625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="352.5" y="2372.6919">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="416.5" y="2371.8354">[Transfer state is RESERVED]</text>
    <path d="M438,2381.7578 L438,2754.7578 L739,2754.7578 L739,2391.7578 L729,2381.7578 L438,2381.7578 " fill="#FFFF00" filter="url(#f90mg3w570krc)" style="stroke:#A80036;stroke-width:1.0;"/>
    <path d="M729,2381.7578 L729,2391.7578 L739,2391.7578 L729,2381.7578 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="444" y="2398.8247">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="2413.9575">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="460" y="2429.0903">id: &lt;transferMessage.commitRequestId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="460" y="2444.2231">from: &lt;transferMessage.initiatingFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="460" y="2459.356">to: &lt;transferMessage.counterPartyFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="460" y="2474.4888">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="460" y="2489.6216">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="476" y="2504.7544">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="476" y="2519.8872">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="460" y="2535.02">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="460" y="2550.1528">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="476" y="2565.2856">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="492" y="2580.4185">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="492" y="2595.5513">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="492" y="2610.6841">type: transfer,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="492" y="2625.8169">action: prepare,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="492" y="2640.9497">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="492" y="2656.0825">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="508" y="2671.2153">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="508" y="2686.3481">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="492" y="2701.481">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="476" y="2716.6138">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="460" y="2731.7466">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="2746.8794">}</text>
    <polygon fill="#A80036" points="1204.5,2781.0781,1214.5,2785.0781,1204.5,2789.0781,1208.5,2785.0781" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1210.5" y1="2785.0781" y2="2785.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="2780.0122">41</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="462" y="2780.0122">Publish Notification event to FXP</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337.5" x2="1302" y1="2824.0781" y2="2824.0781"/>
    <path d="M438,2830.0781 L438,3309.0781 L842,3309.0781 L842,2840.0781 L832,2830.0781 L438,2830.0781 " fill="#FFFF00" filter="url(#f90mg3w570krc)" style="stroke:#A80036;stroke-width:1.0;"/>
    <path d="M832,2830.0781 L832,2840.0781 L842,2840.0781 L832,2830.0781 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="444" y="2847.145">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="2862.2778">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="460" y="2877.4106">id: &lt;transferMessage.commitRequestId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="460" y="2892.5435">from: &lt;switch&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="460" y="2907.6763">to: &lt;transferMessage.initiatingFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="460" y="2922.8091">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="460" y="2937.9419">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="476" y="2953.0747">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="476" y="2968.2075">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="492" y="2983.3403">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="508" y="2998.4731">&quot;errorCode&quot;: &lt;error code&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="508" y="3013.606">&quot;errorDescription&quot;: &quot;&lt;error description&gt;&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="508" y="3028.7388">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="492" y="3043.8716">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="476" y="3059.0044">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="460" y="3074.1372">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="460" y="3089.27">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="476" y="3104.4028">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="492" y="3119.5356">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="492" y="3134.6685">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="492" y="3149.8013">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="492" y="3164.9341">action: prepare,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="492" y="3180.0669">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="492" y="3195.1997">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="508" y="3210.3325">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="508" y="3225.4653">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="508" y="3240.5981">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="492" y="3255.731">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="476" y="3270.8638">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="460" y="3285.9966">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="3301.1294">}</text>
    <polygon fill="#A80036" points="1204.5,3335.3281,1214.5,3339.3281,1204.5,3343.3281,1208.5,3339.3281" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1210.5" y1="3339.3281" y2="3339.3281"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="3334.2622">42</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="279" x="462" y="3334.2622">Publish Notification (failure) event for Payer.</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="745" y="3334.2622">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="831" y="3334.2622">2001</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="307.5" x2="2074" y1="3392.3281" y2="3392.3281"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="298" x="312.5" y="3402.5386">[Calculate &amp; Validate Latest Position (failure)]</text>
    <path d="M438,3411.1328 L438,3874.1328 L842,3874.1328 L842,3421.1328 L832,3411.1328 L438,3411.1328 " fill="#FFFF00" filter="url(#f90mg3w570krc)" style="stroke:#A80036;stroke-width:1.0;"/>
    <path d="M832,3411.1328 L832,3421.1328 L842,3421.1328 L832,3411.1328 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="444" y="3428.1997">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="3443.3325">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="460" y="3458.4653">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="460" y="3473.5981">from: &lt;ledgerName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="460" y="3488.731">to: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="460" y="3503.8638">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="460" y="3518.9966">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="476" y="3534.1294">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="476" y="3549.2622">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="492" y="3564.395">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="508" y="3579.5278">&quot;errorCode&quot;: &lt;error code&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="508" y="3594.6606">&quot;errorDescription&quot;: &quot;&lt;error description&gt;&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="508" y="3609.7935">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="476" y="3624.9263">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="460" y="3640.0591">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="460" y="3655.1919">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="476" y="3670.3247">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="492" y="3685.4575">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="492" y="3700.5903">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="492" y="3715.7231">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="492" y="3730.856">action: prepare,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="492" y="3745.9888">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="492" y="3761.1216">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="508" y="3776.2544">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="508" y="3791.3872">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="508" y="3806.52">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="492" y="3821.6528">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="476" y="3836.7856">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="460" y="3851.9185">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="444" y="3867.0513">}</text>
    <polygon fill="#A80036" points="1204.5,3901.25,1214.5,3905.25,1204.5,3909.25,1208.5,3905.25" style="stroke:#A80036;stroke-width:1.0;"/>
    <line style="stroke:#A80036;stroke-width:1.0;" x1="433" x2="1210.5" y1="3905.25" y2="3905.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="440" y="3900.1841">43</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="462" y="3900.1841">Publish Notification (failure) event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="741" y="3900.1841">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="835" y="3900.1841">4001, 4200</text>
  </g>
</svg>

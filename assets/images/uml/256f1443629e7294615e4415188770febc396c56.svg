<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2121px" preserveAspectRatio="none" style="width:1718px;height:2121px;" version="1.1" viewBox="0 0 1718 2121" width="1718px" zoomAndPan="magnify"><defs><filter height="300%" id="fffmzlsfdauxc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="368" x="676" y="22.9951">1.0.0 Create initial position and limits for Participant</text><rect fill="#FFFFE0" height="2075.7031" style="stroke: #A80036; stroke-width: 1.0;" width="1022.5" x="635.5" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1094.75" y="46.3638">Central Services</text><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1880.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="102" y="126.5938"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1834.8438" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="698" y="171.8594"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="860.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1005" y="361.1875"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="711.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1005" y="1251.3047"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="405.4531"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="636.5156"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="786.1797"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="136.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="1032.375"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="434.5859"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="665.6484"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="815.3125"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="1061.5078"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1873.1094" style="stroke: #000000; stroke-width: 2.0;" width="1694" x="13" y="133.5938"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1401.4531" style="stroke: #000000; stroke-width: 2.0;" width="1674" x="23" y="598.25"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="786.7266" style="stroke: #000000; stroke-width: 2.0;" width="1654" x="33" y="963.8438"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1206" x="43" y="1183.9063"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1206" x="43" y="1259.3047"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1654" x="33" y="1508.4375"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1674" x="23" y="1757.5703"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="107" x2="107" y1="116.5938" y2="2023.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="702.5" x2="702.5" y1="116.5938" y2="2023.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1010" x2="1010" y1="116.5938" y2="2023.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1329" x2="1329" y1="116.5938" y2="2023.7031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1610" x2="1610" y1="116.5938" y2="2023.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="53" y="113.292">HUB OPERATOR</text><ellipse cx="107" cy="43.2969" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M107,51.2969 L107,78.2969 M94,59.2969 L120,59.2969 M107,78.2969 L94,93.2969 M107,78.2969 L120,93.2969 " fill="none" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="53" y="2035.6982">HUB OPERATOR</text><ellipse cx="107" cy="2049" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M107,2057 L107,2084 M94,2065 L120,2065 M107,2084 L94,2099 M107,2084 L120,2099 " fill="none" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="639.5" y="113.292">Central Service API</text><path d="M682.5,72.2969 L682.5,96.2969 M682.5,84.2969 L699.5,84.2969 " fill="none" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="711.5" cy="84.2969" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="639.5" y="2035.6982">Central Service API</text><path d="M682.5,2043 L682.5,2067 M682.5,2055 L699.5,2055 " fill="none" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="711.5" cy="2055" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="946" y="113.292">Participant Handler</text><ellipse cx="1010" cy="84.2969" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1006,72.2969,1012,67.2969,1010,72.2969,1012,77.2969,1006,72.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="946" y="2035.6982">Participant Handler</text><ellipse cx="1010" cy="2055" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1006,2043,1012,2038,1010,2043,1012,2048,1006,2043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1265" y="113.292">Participant FACADE</text><ellipse cx="1329" cy="84.2969" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1317" x2="1341" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="1265" y="2035.6982">Participant FACADE</text><ellipse cx="1329" cy="2055" fill="#FEFECE" filter="url(#fffmzlsfdauxc)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1317" x2="1341" y1="2069" y2="2069"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1566" y="113.292">Central Store</text><path d="M1592,64.2969 C1592,54.2969 1610,54.2969 1610,54.2969 C1610,54.2969 1628,54.2969 1628,64.2969 L1628,90.2969 C1628,100.2969 1610,100.2969 1610,100.2969 C1610,100.2969 1592,100.2969 1592,90.2969 L1592,64.2969 " fill="#FEFECE" filter="url(#fffmzlsfdauxc)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1592,64.2969 C1592,74.2969 1610,74.2969 1610,74.2969 C1610,74.2969 1628,74.2969 1628,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1566" y="2035.6982">Central Store</text><path d="M1592,2049 C1592,2039 1610,2039 1610,2039 C1610,2039 1628,2039 1628,2049 L1628,2075 C1628,2085 1610,2085 1610,2085 C1610,2085 1592,2085 1592,2075 L1592,2049 " fill="#FEFECE" filter="url(#fffmzlsfdauxc)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1592,2049 C1592,2059 1610,2059 1610,2059 C1610,2059 1628,2059 1628,2049 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1880.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="102" y="126.5938"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="1834.8438" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="698" y="171.8594"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="860.9844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1005" y="361.1875"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="711.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1005" y="1251.3047"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="405.4531"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="636.5156"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="786.1797"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="136.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1324" y="1032.375"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="434.5859"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="665.6484"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="815.3125"/><rect fill="#FFFFFF" filter="url(#fffmzlsfdauxc)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1605" y="1061.5078"/><path d="M13,133.5938 L264,133.5938 L264,140.5938 L254,150.5938 L13,150.5938 L13,133.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1873.1094" style="stroke: #000000; stroke-width: 2.0;" width="1694" x="13" y="133.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="28" y="146.6606">Create initial position and limits</text><polygon fill="#A80036" points="686,167.8594,696,171.8594,686,175.8594,690,171.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="112" x2="692" y1="171.8594" y2="171.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="119" y="166.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="556" x="130" y="166.7935">Request to Create initial position and limits - POST - /paticipants/{name}/initialPositionAndLimits</text><path d="M117,184.8594 L117,330.8594 L328,330.8594 L328,194.8594 L318,184.8594 L117,184.8594 " fill="#FFFF00" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M318,184.8594 L318,194.8594 L328,194.8594 L318,184.8594 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="123" y="201.9263">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="123" y="217.0591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="135" y="232.1919">currency: &lt;currencyId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="135" y="247.3247">limit: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="147" y="262.4575">type: &lt;limitType&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="147" y="277.5903">value: &lt;limitValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="135" y="292.7231">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="135" y="307.856">initialPosition: &lt;positionValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="123" y="322.9888">}</text><polygon fill="#A80036" points="993,357.1875,1003,361.1875,993,365.1875,997,361.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="708" x2="999" y1="361.1875" y2="361.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="715" y="356.1216">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="726" y="356.1216">Create initial position and limits for Participant</text><polygon fill="#A80036" points="1312,401.4531,1322,405.4531,1312,409.4531,1316,405.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1318" y1="405.4531" y2="405.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1022" y="392.8208">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1033" y="385.2544">Fetch Participant/ Currency Id</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="1033" y="400.3872">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1107" y="400.3872">3200</text><polygon fill="#A80036" points="1593,430.5859,1603,434.5859,1593,438.5859,1597,434.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1334" x2="1599" y1="434.5859" y2="434.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1341" y="429.52">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="1352" y="429.52">Fetch Participant/Currency Id</text><polygon fill="#FFFFE0" filter="url(#fffmzlsfdauxc)" points="1550,447.5859,1670,447.5859,1680,466.5859,1670,485.5859,1550,485.5859,1540,466.5859,1550,447.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="1552" y="463.6528">participant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1552" y="478.7856">participantCurrency</text><polygon fill="#A80036" points="1345,507.9844,1335,511.9844,1345,515.9844,1341,511.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1339" x2="1609" y1="511.9844" y2="511.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1351" y="506.9185">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1362" y="506.9185">Retrieved Participant/Currency Id</text><polygon fill="#A80036" points="1026,537.1172,1016,541.1172,1026,545.1172,1022,541.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1020" x2="1328" y1="541.1172" y2="541.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1032" y="536.0513">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="1043" y="536.0513">Return Participant/Currency Id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1057" y1="570.25" y2="570.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1057" x2="1057" y1="570.25" y2="583.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1016" x2="1057" y1="583.25" y2="583.25"/><polygon fill="#A80036" points="1026,579.25,1016,583.25,1026,587.25,1022,583.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1022" y="565.1841">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1033" y="565.1841">Validate DFSP</text><path d="M23,598.25 L86,598.25 L86,605.25 L76,615.25 L23,615.25 L23,598.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1401.4531" style="stroke: #000000; stroke-width: 2.0;" width="1674" x="23" y="598.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="38" y="611.3169">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="101" y="610.4604">[Validate participant (success)]</text><polygon fill="#A80036" points="1312,632.5156,1322,636.5156,1312,640.5156,1316,636.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1318" y1="636.5156" y2="636.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1022" y="631.4497">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="1033" y="631.4497">Fetch limit for participantCurrencyId</text><polygon fill="#A80036" points="1593,661.6484,1603,665.6484,1593,669.6484,1597,665.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1334" x2="1599" y1="665.6484" y2="665.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1341" y="660.5825">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="1352" y="660.5825">Fetch limit for participantCurrencyId</text><polygon fill="#FFFFE0" filter="url(#fffmzlsfdauxc)" points="1563,678.6484,1657,678.6484,1667,689.6484,1657,701.6484,1563,701.6484,1553,689.6484,1563,678.6484" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="1565" y="694.7153">participantLimit</text><polygon fill="#A80036" points="1345,723.9141,1335,727.9141,1345,731.9141,1341,727.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1339" x2="1609" y1="727.9141" y2="727.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1351" y="722.8481">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="1369" y="722.8481">Retrieved participant limit</text><polygon fill="#A80036" points="1026,753.0469,1016,757.0469,1026,761.0469,1022,757.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1020" x2="1328" y1="757.0469" y2="757.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1032" y="751.981">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1050" y="751.981">Return participant limit</text><polygon fill="#A80036" points="1312,782.1797,1322,786.1797,1312,790.1797,1316,786.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1318" y1="786.1797" y2="786.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1022" y="781.1138">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="1040" y="781.1138">Fetch position for participantCurrencyId</text><polygon fill="#A80036" points="1593,811.3125,1603,815.3125,1593,819.3125,1597,815.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1334" x2="1599" y1="815.3125" y2="815.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1341" y="810.2466">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="1359" y="810.2466">Fetch position for participantCurrencyId</text><polygon fill="#FFFFE0" filter="url(#fffmzlsfdauxc)" points="1553,828.3125,1667,828.3125,1677,839.3125,1667,851.3125,1553,851.3125,1543,839.3125,1553,828.3125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1555" y="844.3794">participantPosition</text><polygon fill="#A80036" points="1345,873.5781,1335,877.5781,1345,881.5781,1341,877.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1339" x2="1609" y1="877.5781" y2="877.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1351" y="872.5122">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="1369" y="872.5122">Retrieved participant position</text><polygon fill="#A80036" points="1026,902.7109,1016,906.7109,1026,910.7109,1022,906.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1020" x2="1328" y1="906.7109" y2="906.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1032" y="901.645">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1050" y="901.645">Return participant position</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1057" y1="935.8438" y2="935.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1057" x2="1057" y1="935.8438" y2="948.8438"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1016" x2="1057" y1="948.8438" y2="948.8438"/><polygon fill="#A80036" points="1026,944.8438,1016,948.8438,1026,952.8438,1022,948.8438" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1022" y="930.7778">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="1040" y="930.7778">Participant position or limit exists check</text><path d="M33,963.8438 L96,963.8438 L96,970.8438 L86,980.8438 L33,980.8438 L33,963.8438 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="786.7266" style="stroke: #000000; stroke-width: 2.0;" width="1654" x="33" y="963.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="48" y="976.9106">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="111" y="976.0542">[position or limit does not exist (success)]</text><polygon fill="#A80036" points="1312,1028.375,1322,1032.375,1312,1036.375,1316,1032.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1015" x2="1318" y1="1032.375" y2="1032.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1022" y="1012.1763">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="1040" y="997.0435">create initial position and limits for Participantt</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="1040" y="1012.1763">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="1114" y="1012.1763">2003/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1147" y="1012.1763">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1179" y="1012.1763">Service unavailable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1296" y="1012.1763"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="1040" y="1027.3091">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="1114" y="1027.3091">2001/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1147" y="1027.3091">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1179" y="1027.3091">Internal Server Error</text><polygon fill="#A80036" points="1593,1057.5078,1603,1061.5078,1593,1065.5078,1597,1061.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1334" x2="1599" y1="1061.5078" y2="1061.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1341" y="1056.4419">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="1359" y="1056.4419">Persist Participant limits/position</text><polygon fill="#FFFFE0" filter="url(#fffmzlsfdauxc)" points="1553,1104.5078,1667,1104.5078,1677,1123.5078,1667,1142.5078,1553,1142.5078,1543,1123.5078,1553,1104.5078" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1555" y="1120.5747">participantPosition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="1555" y="1135.7075">participantLimit</text><polygon fill="#A80036" points="1026,1164.9063,1016,1168.9063,1026,1172.9063,1022,1168.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1020" x2="1328" y1="1168.9063" y2="1168.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1032" y="1163.8403">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1050" y="1163.8403">Return status</text><path d="M43,1183.9063 L106,1183.9063 L106,1190.9063 L96,1200.9063 L43,1200.9063 L43,1183.9063 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="317.5313" style="stroke: #000000; stroke-width: 2.0;" width="1206" x="43" y="1183.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="58" y="1196.9731">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163" x="121" y="1196.1167">[Details persisted successfully]</text><polygon fill="#A80036" points="719,1218.1719,709,1222.1719,719,1226.1719,715,1222.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="713" x2="1009" y1="1222.1719" y2="1222.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="725" y="1217.106">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="743" y="1217.106">Return Status Code 201</text><polygon fill="#A80036" points="123,1247.3047,113,1251.3047,123,1255.3047,119,1251.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117" x2="697" y1="1251.3047" y2="1251.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="129" y="1246.2388">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="147" y="1246.2388">Return Status Code 201</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="43" x2="1249" y1="1260.3047" y2="1260.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="151" x="48" y="1270.5151">[Details not persisted/Error]</text><path d="M1020,1279.1094 L1020,1304.1094 L1075,1304.1094 L1075,1289.1094 L1065,1279.1094 L1020,1279.1094 " fill="#FF0000" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1065,1279.1094 L1065,1289.1094 L1075,1289.1094 L1065,1279.1094 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="1026" y="1296.1763">Error!</text><path d="M1020,1318.2422 L1020,1433.2422 L1235,1433.2422 L1235,1328.2422 L1225,1318.2422 L1020,1318.2422 " fill="#FFFF00" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1225,1318.2422 L1225,1328.2422 L1235,1328.2422 L1225,1318.2422 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="1026" y="1335.3091">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1350.4419">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="1050" y="1365.5747">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1062" y="1380.7075">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="1062" y="1395.8403">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1050" y="1410.9731">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1426.106">}</text><polygon fill="#A80036" points="719,1460.3047,709,1464.3047,719,1468.3047,715,1464.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="713" x2="1004" y1="1464.3047" y2="1464.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="725" y="1459.2388">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="743" y="1459.2388">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="786" y="1459.2388">Error code</text><polygon fill="#A80036" points="123,1489.4375,113,1493.4375,123,1497.4375,119,1493.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117" x2="697" y1="1493.4375" y2="1493.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="129" y="1488.3716">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="147" y="1488.3716">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="190" y="1488.3716">Error code</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1687" y1="1509.4375" y2="1509.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="38" y="1519.6479">[position or limit exists (failure)]</text><path d="M1020,1528.2422 L1020,1553.2422 L1075,1553.2422 L1075,1538.2422 L1065,1528.2422 L1020,1528.2422 " fill="#FF0000" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1065,1528.2422 L1065,1538.2422 L1075,1538.2422 L1065,1528.2422 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="1026" y="1545.3091">Error!</text><path d="M1020,1567.375 L1020,1682.375 L1463,1682.375 L1463,1577.375 L1453,1567.375 L1020,1567.375 " fill="#FFFF00" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1453,1567.375 L1453,1577.375 L1463,1577.375 L1453,1567.375 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="1026" y="1584.4419">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1599.5747">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="1050" y="1614.7075">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1062" y="1629.8403">"errorCode": 3200,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="1062" y="1644.9731">"errorDescription": "Participant Limit or Initial Position already set",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1050" y="1660.106">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1675.2388">}</text><polygon fill="#A80036" points="719,1709.4375,709,1713.4375,719,1717.4375,715,1713.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="713" x2="1004" y1="1713.4375" y2="1713.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="725" y="1708.3716">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="743" y="1708.3716">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="786" y="1708.3716">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="860" y="1708.3716">3200</text><polygon fill="#A80036" points="123,1738.5703,113,1742.5703,123,1746.5703,119,1742.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117" x2="697" y1="1742.5703" y2="1742.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="129" y="1737.5044">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="147" y="1737.5044">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="190" y="1737.5044">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="264" y="1737.5044">3200</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1697" y1="1758.5703" y2="1758.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="28" y="1768.7808">[Validate participant (failure)]</text><path d="M1020,1777.375 L1020,1802.375 L1143,1802.375 L1143,1787.375 L1133,1777.375 L1020,1777.375 " fill="#FF0000" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1133,1777.375 L1133,1787.375 L1143,1787.375 L1133,1777.375 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1026" y="1794.4419">Validation failure!</text><path d="M1020,1816.5078 L1020,1931.5078 L1302,1931.5078 L1302,1826.5078 L1292,1816.5078 L1020,1816.5078 " fill="#FFFF00" filter="url(#fffmzlsfdauxc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1292,1816.5078 L1292,1826.5078 L1302,1826.5078 L1292,1816.5078 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="1026" y="1833.5747">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1848.7075">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="1050" y="1863.8403">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1062" y="1878.9731">"errorCode": 3200,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1062" y="1894.106">"errorDescription": "FSP id Not Found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1050" y="1909.2388">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1038" y="1924.3716">}</text><polygon fill="#A80036" points="719,1958.5703,709,1962.5703,719,1966.5703,715,1962.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="713" x2="1009" y1="1962.5703" y2="1962.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="725" y="1957.5044">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="743" y="1957.5044">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="786" y="1957.5044">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="860" y="1957.5044">3200</text><polygon fill="#A80036" points="123,1987.7031,113,1991.7031,123,1995.7031,119,1991.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="117" x2="697" y1="1991.7031" y2="1991.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="129" y="1986.6372">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="147" y="1986.6372">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="190" y="1986.6372">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="264" y="1986.6372">3200</text><!--
@startuml
title 1.0.0 Create initial position and limits for Participant

autonumber



actor "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant FACADE" as PARTICIPANT_DAO
database "Central Store" as DB

box "Central Services" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant DB
end box


activate OPERATOR
group Create initial position and limits
    OPERATOR -> CSAPI: Request to Create initial position and limits - POST - /paticipants/{name}/initialPositionAndLimits
    note right of OPERATOR #yellow
        Message:
        {
            currency: <currencyId>,
            limit: {
                type: <limitType>,
                value: <limitValue>
            },
            initialPosition: <positionValue>
        }
    end note

    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Create initial position and limits for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant/ Currency Id \n<color #FF0000><b>Error code:</b> 3200</color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO -> DB: Fetch Participant/Currency Id
    activate DB
    hnote over DB #lightyellow
        participant
        participantCurrency
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant/Currency Id
    deactivate DB
    PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return Participant/Currency Id
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch limit for participantCurrencyId
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Fetch limit for participantCurrencyId
        activate DB
        hnote over DB #lightyellow
            participantLimit
        end note
        DB - -> PARTICIPANT_DAO: Retrieved participant limit
        deactivate DB
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return participant limit
        deactivate PARTICIPANT_DAO

        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch position for participantCurrencyId
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Fetch position for participantCurrencyId
        activate DB
        hnote over DB #lightyellow
            participantPosition
        end note
        DB - -> PARTICIPANT_DAO: Retrieved participant position
        deactivate DB
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return participant position
        deactivate PARTICIPANT_DAO
        
        PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Participant position or limit exists check

        alt position or limit does not exist (success)


        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: create initial position and limits for Participantt \n<color #FF0000><b>Error code:</b> 2003/<b>Msg:</b> Service unavailable </color> \n<color #FF0000><b>Error code:</b> 2001/<b>Msg:</b> Internal Server Error </color>
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Persist Participant limits/position
        activate DB
        hnote over DB #lightyellow
            participantPosition
            participantLimit
        end note
        deactivate DB
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return status
        deactivate PARTICIPANT_DAO
        alt Details persisted successfully
            PARTICIPANT_HANDLER - ->CSAPI: Return Status Code 201
            deactivate PARTICIPANT_HANDLER
            CSAPI - ->OPERATOR: Return Status Code 201
        else Details not persisted/Error
            note right of PARTICIPANT_HANDLER #red: Error!
            activate PARTICIPANT_HANDLER
            note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": <Error Code>,
                        "errorDescription": <Msg>,
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code</b></color>
            CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code</b></color>
            
        end
        
        else position or limit exists (failure)
            note right of PARTICIPANT_HANDLER #red: Error!
            activate PARTICIPANT_HANDLER
            note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": 3200,
                        "errorDescription": "Participant Limit or Initial Position already set",
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3200</color>
            CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3200</color>
        
        end

    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": 3200,
                        "errorDescription": "FSP id Not Found",
                    }
                }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3200</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3200</color>

    end
    deactivate CSAPI
    deactivate OPERATOR
end
@enduml

PlantUML version 1.2018.02(Fri Mar 09 17:20:44 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-b04
Operating System: Linux
OS Version: 4.15.0-1035-aws
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
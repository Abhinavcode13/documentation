<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1757px" preserveAspectRatio="none" style="width:1713px;height:1757px;" version="1.1" viewBox="0 0 1713 1757" width="1713px" zoomAndPan="magnify"><defs><filter height="300%" id="f15gc2i58yrj07" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="257" x="729" y="22.9951">4.1.0 Get Participant Position Details</text><rect fill="#ADD8E6" height="1711.9688" style="stroke: #A80036; stroke-width: 1.0;" width="116" x="39" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="52.5" y="46.3638">HUB Operator</text><rect fill="#FFFFE0" height="1711.9688" style="stroke: #A80036; stroke-width: 1.0;" width="1077.5" x="572.5" y="34.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="1062.25" y="46.3638">Central Service</text><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1545.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="92" y="125.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1499.9766" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="635" y="170.9922"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1419.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="948" y="200.125"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152" y="244.3906"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1269" y="556.8516"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1269" y="954.9141"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="273.5234"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="585.9844"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="984.0469"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1531.2422" style="stroke: #000000; stroke-width: 2.0;" width="1689" x="13" y="132.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1219.7813" style="stroke: #000000; stroke-width: 2.0;" width="1669" x="23" y="437.1875"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="904.3828" style="stroke: #000000; stroke-width: 2.0;" width="1649" x="33" y="503.4531"/><rect fill="#FFFFFF" height="503.9922" style="stroke: none; stroke-width: 1.0;" width="1649" x="33" y="903.8438"/><rect fill="#FFFFFF" height="242.1328" style="stroke: none; stroke-width: 1.0;" width="1669" x="23" y="1414.8359"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="639.5" x2="639.5" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="953" x2="953" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1157" x2="1157" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1274" x2="1274" y1="115.7266" y2="1680.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1602" x2="1602" y1="115.7266" y2="1680.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="43" y="112.4248">HUB OPERATOR</text><ellipse cx="97" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="85" x2="109" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="43" y="1692.9639">HUB OPERATOR</text><ellipse cx="97" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="85" x2="109" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="576.5" y="112.4248">Central Service API</text><path d="M619.5,71.4297 L619.5,95.4297 M619.5,83.4297 L636.5,83.4297 " fill="none" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="648.5" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="576.5" y="1692.9639">Central Service API</text><path d="M619.5,1700.2656 L619.5,1724.2656 M619.5,1712.2656 L636.5,1712.2656 " fill="none" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="648.5" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="889" y="112.4248">Participant Handler</text><ellipse cx="953" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="949,71.4297,955,66.4297,953,71.4297,955,76.4297,949,71.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="889" y="1692.9639">Participant Handler</text><ellipse cx="953" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="949,1700.2656,955,1695.2656,953,1700.2656,955,1705.2656,949,1700.2656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1103" y="112.4248">Participant DAO</text><ellipse cx="1157" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1145" x2="1169" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1103" y="1692.9639">Participant DAO</text><ellipse cx="1157" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1145" x2="1169" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1221" y="112.4248">Position Facade</text><ellipse cx="1274" cy="83.4297" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1262" x2="1286" y1="97.4297" y2="97.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1221" y="1692.9639">Position Facade</text><ellipse cx="1274" cy="1712.2656" fill="#FEFECE" filter="url(#f15gc2i58yrj07)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1262" x2="1286" y1="1726.2656" y2="1726.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1558" y="112.4248">Central Store</text><path d="M1584,63.4297 C1584,53.4297 1602,53.4297 1602,53.4297 C1602,53.4297 1620,53.4297 1620,63.4297 L1620,89.4297 C1620,99.4297 1602,99.4297 1602,99.4297 C1602,99.4297 1584,99.4297 1584,89.4297 L1584,63.4297 " fill="#FEFECE" filter="url(#f15gc2i58yrj07)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1584,63.4297 C1584,73.4297 1602,73.4297 1602,73.4297 C1602,73.4297 1620,73.4297 1620,63.4297 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1558" y="1692.9639">Central Store</text><path d="M1584,1706.2656 C1584,1696.2656 1602,1696.2656 1602,1696.2656 C1602,1696.2656 1620,1696.2656 1620,1706.2656 L1620,1732.2656 C1620,1742.2656 1602,1742.2656 1602,1742.2656 C1602,1742.2656 1584,1742.2656 1584,1732.2656 L1584,1706.2656 " fill="#FEFECE" filter="url(#f15gc2i58yrj07)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1584,1706.2656 C1584,1716.2656 1602,1716.2656 1602,1716.2656 C1602,1716.2656 1620,1716.2656 1620,1706.2656 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1545.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="92" y="125.7266"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1499.9766" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="635" y="170.9922"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="1419.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="948" y="200.125"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="120.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152" y="244.3906"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1269" y="556.8516"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="135.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1269" y="954.9141"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="62.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="273.5234"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="585.9844"/><rect fill="#FFFFFF" filter="url(#f15gc2i58yrj07)" height="77.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1597" y="984.0469"/><path d="M13,132.7266 L184,132.7266 L184,139.7266 L174,149.7266 L13,149.7266 L13,132.7266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1531.2422" style="stroke: #000000; stroke-width: 2.0;" width="1689" x="13" y="132.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="28" y="145.7935">Get Position Details</text><polygon fill="#A80036" points="623,166.9922,633,170.9922,623,174.9922,627,170.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="629" y1="170.9922" y2="170.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="109" y="165.9263">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="503" x="120" y="165.9263">Request to get positions - GET - /participants/{name}/positions?currency={currencyId}</text><polygon fill="#A80036" points="936,196.125,946,200.125,936,204.125,940,200.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="645" x2="942" y1="200.125" y2="200.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="652" y="195.0591">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="663" y="195.0591">Fetch Positions for Participant</text><polygon fill="#A80036" points="1140,240.3906,1150,244.3906,1140,248.3906,1144,244.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="958" x2="1146" y1="244.3906" y2="244.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="965" y="231.7583">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="976" y="224.1919">Fetch Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="976" y="239.3247">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1050" y="239.3247">2003,3201</text><polygon fill="#A80036" points="1585,269.5234,1595,273.5234,1585,277.5234,1589,273.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162" x2="1591" y1="273.5234" y2="273.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1169" y="268.4575">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1180" y="268.4575">Fetch Participant</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1568,286.5234,1635,286.5234,1645,297.5234,1635,309.5234,1568,309.5234,1558,297.5234,1568,286.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="1570" y="302.5903">participant</text><polygon fill="#A80036" points="1173,331.7891,1163,335.7891,1173,339.7891,1169,335.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1167" x2="1601" y1="335.7891" y2="335.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1179" y="330.7231">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1190" y="330.7231">Retrieved Participant</text><polygon fill="#A80036" points="969,360.9219,959,364.9219,969,368.9219,965,364.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="963" x2="1156" y1="364.9219" y2="364.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="975" y="359.856">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="986" y="359.856">Return Participant</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="958" x2="1000" y1="409.1875" y2="409.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1000" y1="409.1875" y2="422.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="959" x2="1000" y1="422.1875" y2="422.1875"/><polygon fill="#A80036" points="969,418.1875,959,422.1875,969,426.1875,965,422.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="965" y="396.5552">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="976" y="388.9888">Validate DFSP</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="976" y="404.1216">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1050" y="404.1216">3201</text><path d="M23,437.1875 L86,437.1875 L86,444.1875 L76,454.1875 L23,454.1875 L23,437.1875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1219.7813" style="stroke: #000000; stroke-width: 2.0;" width="1669" x="23" y="437.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="38" y="450.2544">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="165" x="101" y="449.3979">[Validate participant (success)]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="958" x2="1000" y1="475.4531" y2="475.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1000" x2="1000" y1="475.4531" y2="488.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="959" x2="1000" y1="488.4531" y2="488.4531"/><polygon fill="#A80036" points="969,484.4531,959,488.4531,969,492.4531,965,488.4531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="965" y="470.3872">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="976" y="470.3872">currency parameter passed ?</text><path d="M33,503.4531 L96,503.4531 L96,510.4531 L86,520.4531 L33,520.4531 L33,503.4531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="904.3828" style="stroke: #000000; stroke-width: 2.0;" width="1649" x="33" y="503.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="48" y="516.52">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="111" y="515.6636">[currency parameter passed]</text><polygon fill="#A80036" points="1257,552.8516,1267,556.8516,1257,560.8516,1261,556.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="958" x2="1263" y1="556.8516" y2="556.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="965" y="544.2192">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="976" y="536.6528">Fetch Participant position for a currency id</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="976" y="551.7856">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1050" y="551.7856">2003</text><polygon fill="#A80036" points="1585,581.9844,1595,585.9844,1585,589.9844,1589,585.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1279" x2="1591" y1="585.9844" y2="585.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1286" y="580.9185">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="1304" y="580.9185">Fetch Participant position for a currency id</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1542,598.9844,1662,598.9844,1672,617.9844,1662,636.9844,1542,636.9844,1532,617.9844,1542,598.9844" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1544" y="615.0513">participantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1544" y="630.1841">participantPosition</text><polygon fill="#A80036" points="1290,659.3828,1280,663.3828,1290,667.3828,1286,663.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1284" x2="1601" y1="663.3828" y2="663.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1296" y="658.3169">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="1314" y="658.3169">Retrieved Participant position for a currency id</text><polygon fill="#A80036" points="969,688.5156,959,692.5156,969,696.5156,965,692.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="963" x2="1273" y1="692.5156" y2="692.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="975" y="687.4497">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="993" y="687.4497">Return Positions for Participant</text><path d="M963,705.5156 L963,836.5156 L1175,836.5156 L1175,715.5156 L1165,705.5156 L963,705.5156 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1165,705.5156 L1165,715.5156 L1175,715.5156 L1165,705.5156 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="969" y="722.5825">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="737.7153">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="981" y="752.8481">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="993" y="767.981">currency: &lt;currencyId&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="993" y="783.1138">value: &lt;positionValue&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="993" y="798.2466">updatedTime: &lt;timeStamp1&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="981" y="813.3794">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="828.5122">}</text><polygon fill="#A80036" points="656,862.7109,646,866.7109,656,870.7109,652,866.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="650" x2="947" y1="866.7109" y2="866.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="662" y="861.645">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="680" y="861.645">Return Participant position for a currency id</text><polygon fill="#A80036" points="113,891.8438,103,895.8438,113,899.8438,109,895.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="107" x2="634" y1="895.8438" y2="895.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="119" y="890.7778">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="137" y="890.7778">Return Participant position for a currency id</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1682" y1="904.8438" y2="904.8438"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="38" y="915.0542">[currency parameter not passed]</text><polygon fill="#A80036" points="1257,950.9141,1267,954.9141,1257,958.9141,1261,954.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="958" x2="1263" y1="954.9141" y2="954.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="965" y="942.2817">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="983" y="934.7153">Fetch Participant Positions for all currencies</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="983" y="949.8481">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1057" y="949.8481">2003</text><polygon fill="#A80036" points="1585,980.0469,1595,984.0469,1585,988.0469,1589,984.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1279" x2="1591" y1="984.0469" y2="984.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1286" y="978.981">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="1304" y="978.981">Fetch Participant Positions for all currencies</text><polygon fill="#FFFFE0" filter="url(#f15gc2i58yrj07)" points="1542,997.0469,1662,997.0469,1672,1016.0469,1662,1035.0469,1542,1035.0469,1532,1016.0469,1542,997.0469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1544" y="1013.1138">participantCurrency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="1544" y="1028.2466">participantPosition</text><polygon fill="#A80036" points="1290,1057.4453,1280,1061.4453,1290,1065.4453,1286,1061.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1284" x2="1601" y1="1061.4453" y2="1061.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1296" y="1056.3794">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="1314" y="1056.3794">Retrieved Participant Positions for all currencies</text><polygon fill="#A80036" points="969,1086.5781,959,1090.5781,969,1094.5781,965,1090.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="963" x2="1273" y1="1090.5781" y2="1090.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="975" y="1085.5122">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="993" y="1085.5122">Return Participant Positions for all currencies</text><path d="M963,1103.5781 L963,1339.5781 L1187,1339.5781 L1187,1113.5781 L1177,1103.5781 L963,1103.5781 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1177,1103.5781 L1177,1113.5781 L1187,1113.5781 L1177,1103.5781 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="969" y="1120.645">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="1135.7778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="981" y="1150.9106">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="993" y="1166.0435">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="1005" y="1181.1763">currency: &lt;currencyId1&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="1005" y="1196.3091">value: &lt;positionValue1&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1005" y="1211.4419">updatedTime: &lt;timeStamp1&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="993" y="1226.5747">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="993" y="1241.7075">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="1005" y="1256.8403">currency: &lt;currencyId2&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="1005" y="1271.9731">value: &lt;positionValue2&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1005" y="1287.106">updatedTime: &lt;timeStamp2&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="993" y="1302.2388">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="981" y="1317.3716">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="1332.5044">}</text><polygon fill="#A80036" points="656,1366.7031,646,1370.7031,656,1374.7031,652,1370.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="650" x2="947" y1="1370.7031" y2="1370.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="662" y="1365.6372">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="680" y="1365.6372">Return Participant Positions for all currencies</text><polygon fill="#A80036" points="113,1395.8359,103,1399.8359,113,1403.8359,109,1399.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="107" x2="634" y1="1399.8359" y2="1399.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="119" y="1394.77">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="137" y="1394.77">Return Participant Positions for all currencies</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1692" y1="1415.8359" y2="1415.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="28" y="1426.0464">[Validate participant (failure)]</text><path d="M963,1434.6406 L963,1459.6406 L1086,1459.6406 L1086,1444.6406 L1076,1434.6406 L963,1434.6406 " fill="#FF0000" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1076,1434.6406 L1076,1444.6406 L1086,1444.6406 L1076,1434.6406 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="969" y="1451.7075">Validation failure!</text><path d="M963,1473.7734 L963,1588.7734 L1319,1588.7734 L1319,1483.7734 L1309,1473.7734 L963,1473.7734 " fill="#FFFF00" filter="url(#f15gc2i58yrj07)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1309,1473.7734 L1309,1483.7734 L1319,1483.7734 L1309,1473.7734 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="969" y="1490.8403">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="1505.9731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="981" y="1521.106">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="981" y="1536.2388">"errorCode": 3201,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="323" x="981" y="1551.3716">"errorDescription": "FSP id does not exist or not found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="981" y="1566.5044">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="969" y="1581.6372">}</text><polygon fill="#A80036" points="656,1615.8359,646,1619.8359,656,1623.8359,652,1619.8359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="650" x2="952" y1="1619.8359" y2="1619.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="662" y="1614.77">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="680" y="1614.77">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="723" y="1614.77">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="797" y="1614.77">3201</text><polygon fill="#A80036" points="113,1644.9688,103,1648.9688,113,1652.9688,109,1648.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="107" x2="634" y1="1648.9688" y2="1648.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="119" y="1643.9028">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="137" y="1643.9028">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="180" y="1643.9028">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="254" y="1643.9028">3201</text><!--
@startuml
title 4.1.0 Get Participant Position Details

autonumber


entity "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant DAO" as PARTICIPANT_DAO
entity "Position Facade" as POSITION_DAO
database "Central Store" as DB
box "HUB Operator" #LightBlue
participant OPERATOR
end box

box "Central Service" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant POSITION_DAO
participant DB
end box


activate OPERATOR
group Get Position Details
    OPERATOR -> CSAPI: Request to get positions - GET - /participants/{name}/positions?currency={currencyId}
    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Fetch Positions for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant \n<color #FF0000><b>Error code:</b> 2003,3201 </color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO ->DB: Fetch Participant
    activate DB
    hnote over DB #lightyellow
        participant
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant
    deactivate DB
    PARTICIPANT_DAO - ->PARTICIPANT_HANDLER: Return Participant
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP \n<color #FF0000><b>Error code:</b> 3201</color>
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: currency parameter passed ?

        alt currency parameter passed

            PARTICIPANT_HANDLER ->POSITION_DAO: Fetch Participant position for a currency id\n<color #FF0000><b>Error code:</b> 2003 </color>
            activate POSITION_DAO
            POSITION_DAO ->DB: Fetch Participant position for a currency id
            activate DB
            hnote over DB #lightyellow
                participantCurrency
                participantPosition
            end note
            DB - -> POSITION_DAO: Retrieved Participant position for a currency id
            deactivate DB
            POSITION_DAO - ->PARTICIPANT_HANDLER: Return Positions for Participant
            deactivate POSITION_DAO
            note right of PARTICIPANT_HANDLER #yellow
                Message:
                {
                    {
                        currency: <currencyId>,
                        value: <positionValue>,
                        updatedTime: <timeStamp1>
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return Participant position for a currency id
            CSAPI - ->OPERATOR: Return Participant position for a currency id
        else currency parameter not passed
            PARTICIPANT_HANDLER ->POSITION_DAO: Fetch Participant Positions for all currencies\n<color #FF0000><b>Error code:</b> 2003 </color>
            activate POSITION_DAO
            POSITION_DAO ->DB: Fetch Participant Positions for all currencies
            activate DB
            hnote over DB #lightyellow
                participantCurrency
                participantPosition
            end note
            DB - -> POSITION_DAO: Retrieved Participant Positions for all currencies
            deactivate DB
            POSITION_DAO - ->PARTICIPANT_HANDLER: Return Participant Positions for all currencies
            deactivate POSITION_DAO
            note right of PARTICIPANT_HANDLER #yellow
                Message:
                {
                    [
                        {
                            currency: <currencyId1>,
                            value: <positionValue1>,
                            updatedTime: <timeStamp1>
                        },
                        {
                            currency: <currencyId2>,
                            value: <positionValue2>,
                            updatedTime: <timeStamp2>
                        }
                    ]
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return Participant Positions for all currencies
            CSAPI - ->OPERATOR: Return Participant Positions for all currencies
        end
    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
            {
                "errorInformation": {
                "errorCode": 3201,
                "errorDescription": "FSP id does not exist or not found",
                }
            }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3201</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3201</color>
    end

end

deactivate CSAPI
deactivate OPERATOR

@enduml

PlantUML version 1.2018.02(Fri Mar 09 17:20:44 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-b04
Operating System: Linux
OS Version: 4.15.0-1035-aws
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>